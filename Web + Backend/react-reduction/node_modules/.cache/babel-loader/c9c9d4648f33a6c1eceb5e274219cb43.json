{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\src\\\\pages\\\\ModelPage.js\";\nimport raspImage from 'assets/img/products/rasp.jpg';\nimport { UserCard } from 'components/Card';\nimport Page from 'components/Page';\nimport React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Button, Card, CardBody, CardImg, CardImgOverlay, CardLink, CardText, CardTitle, Col, ListGroup, ListGroupItem, Modal, ModalBody, ModalFooter, ModalHeader, Row } from 'reactstrap';\nimport { getAllModels, deleteModel } from 'components/UserFunctions';\n\nvar ModelPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(ModelPage, _React$Component);\n\n  function ModelPage() {\n    var _this;\n\n    _classCallCheck(this, ModelPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModelPage).call(this));\n\n    _this.toggle = function (modalType) {\n      return function () {\n        if (!modalType) {\n          return _this.setState({\n            modal: !_this.state.modal\n          });\n        }\n\n        _this.setState(_defineProperty({}, \"modal_\".concat(modalType), !_this.state[\"modal_\".concat(modalType)]));\n      };\n    };\n\n    _this.state = {\n      models: [],\n      modal: false,\n      modal_backdrop: false,\n      modal_nested_parent: false,\n      modal_nested: false,\n      backdrop: true\n    };\n    return _this;\n  }\n\n  _createClass(ModelPage, [{\n    key: \"openModal\",\n    value: function openModal(id) {\n      this.setState({\n        modal: _defineProperty({}, id, true)\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      /*  let models = [...this.state.model]\r\n        getAllModels().then(data =>  models.push(data),\r\n        this.setState({\r\n          model: models\r\n        }))*/\n      getAllModels().then(function (res) {\n        var models = res;\n\n        _this2.setState({\n          models: models\n        });\n      });\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(id) {\n      var cardId = id;\n      deleteModel(cardId).then(function (res) {\n        window.location.reload();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(Page, {\n        title: \"Cartes\",\n        breadcrumbs: [{\n          name: 'Modéle',\n          active: true\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, this.state.models.map(function (model) {\n        return /*#__PURE__*/React.createElement(Col, {\n          md: 5,\n          key: model._id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(UserCard, {\n          avatar: raspImage,\n          title: model.name,\n          text: \"Mod\\xE9le Disponible\",\n          style: {\n            height: 300\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          outline: true,\n          color: \"light\",\n          onClick: _this3.openModal.bind(_this3, model._id),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 19\n          }\n        }, \"Voir Plus\"), /*#__PURE__*/React.createElement(Modal, {\n          isOpen: _this3.state.modal[model._id],\n          toggle: _this3.openModal.bind(_this3, model._id),\n          className: _this3.props.className,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(ModalHeader, {\n          toggle: _this3.toggle(),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }\n        }, model.name), /*#__PURE__*/React.createElement(ModalBody, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }\n        }, model.description), /*#__PURE__*/React.createElement(ModalFooter, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/reservation\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          color: \"primary\",\n          onClick: function onClick(e) {\n            return window.confirm(\"Êtes vous sûr de supprimer ce modéle ? Cette action est irréversible\") && _this3.onDelete(model._id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }\n        }, \"Supprimer\")), /*#__PURE__*/React.createElement(Link, {\n          to: \"/editModel/\".concat(model._id),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          color: \"secondary\",\n          onClick: _this3.toggle(),\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }\n        }, \"Editer\"))))));\n      })), /*#__PURE__*/React.createElement(Link, {\n        to: \"/addModel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }\n      }, \"Ajouter un mod\\xE9le\")));\n    }\n  }]);\n\n  return ModelPage;\n}(React.Component);\n\nexport default ModelPage;","map":{"version":3,"sources":["C:/Users/yosrj/Desktop/IOT_Lab/react-reduction/src/pages/ModelPage.js"],"names":["raspImage","UserCard","Page","React","Link","withRouter","Button","Card","CardBody","CardImg","CardImgOverlay","CardLink","CardText","CardTitle","Col","ListGroup","ListGroupItem","Modal","ModalBody","ModalFooter","ModalHeader","Row","getAllModels","deleteModel","ModelPage","toggle","modalType","setState","modal","state","models","modal_backdrop","modal_nested_parent","modal_nested","backdrop","id","then","res","cardId","window","location","reload","name","active","map","model","_id","height","openModal","bind","props","className","description","e","confirm","onDelete","Component"],"mappings":"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","sourcesContent":["import raspImage from 'assets/img/products/rasp.jpg';\r\nimport { UserCard } from 'components/Card';\r\nimport Page from 'components/Page';\r\nimport React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardImg,\r\n  CardImgOverlay,\r\n  CardLink,\r\n  CardText,\r\n  CardTitle,\r\n  Col,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Modal,\r\n  ModalBody,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  Row,\r\n} from 'reactstrap';\r\nimport { getAllModels,deleteModel } from 'components/UserFunctions';\r\nclass ModelPage extends React.Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      models: [],\r\n      modal: false,\r\n      modal_backdrop: false,\r\n      modal_nested_parent: false,\r\n      modal_nested: false,\r\n      backdrop: true,\r\n    }\r\n  }\r\n\r\n  toggle = modalType => () => {\r\n    if (!modalType) {\r\n      return this.setState({\r\n        modal: !this.state.modal,\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      [`modal_${modalType}`]: !this.state[`modal_${modalType}`],\r\n    });\r\n  };\r\n  openModal(id) {\r\n    this.setState({\r\n      modal: {\r\n        [id]: true\r\n      }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    /*  let models = [...this.state.model]\r\n      getAllModels().then(data =>  models.push(data),\r\n      this.setState({\r\n        model: models\r\n      }))*/\r\n    getAllModels()\r\n      .then(res => {\r\n        const models = res;\r\n        this.setState({ models });\r\n      })\r\n  }\r\n  onDelete(id) {\r\n    const cardId = id\r\n    deleteModel(cardId).then(res => {\r\n      window.location.reload();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Page title=\"Cartes\" breadcrumbs={[{ name: 'Modéle', active: true }]}>\r\n        <Row>\r\n          {this.state.models.map(model => {\r\n\r\n            return (\r\n              <Col md={5} key={model._id} >\r\n                <UserCard\r\n                  avatar={raspImage}\r\n                  title={model.name}\r\n                  text=\"Modéle Disponible\"\r\n                  style={{\r\n                    height: 300,\r\n                  }}\r\n\r\n                >\r\n                  <Button outline color=\"light\" onClick={this.openModal.bind(this, model._id)}>\r\n                    Voir Plus\r\n                </Button>\r\n                  <Modal\r\n                    isOpen={this.state.modal[model._id]}\r\n                    toggle={this.openModal.bind(this, model._id)}\r\n                    className={this.props.className}>\r\n                    <ModalHeader toggle={this.toggle()}>{model.name}</ModalHeader>\r\n                    <ModalBody>\r\n                      {model.description}\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                      <Link to=\"/reservation\">\r\n                        <Button color=\"primary\" onClick={e =>\r\n                          window.confirm(\"Êtes vous sûr de supprimer ce modéle ? Cette action est irréversible\") &&\r\n                          this.onDelete(model._id)\r\n                        }>\r\n                          Supprimer\r\n                    </Button></Link>\r\n                      <Link to={`/editModel/${model._id}`}>\r\n                        <Button color=\"secondary\" onClick={this.toggle()}>\r\n                          Editer\r\n                    </Button></Link>\r\n                    </ModalFooter>\r\n                  </Modal>\r\n                </UserCard>\r\n\r\n              </Col>\r\n\r\n            );\r\n          })}\r\n\r\n        </Row>\r\n        <Link to=\"/addModel\">\r\n          <Button color=\"primary\" >Ajouter un modéle</Button></Link>\r\n      </Page>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModelPage;\r\n"]},"metadata":{},"sourceType":"module"}