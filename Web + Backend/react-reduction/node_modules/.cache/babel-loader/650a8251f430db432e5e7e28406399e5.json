{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\yosrj\\\\Desktop\\\\IOT_Lab\\\\react-reduction\\\\src\\\\components\\\\Profile.js\";\nimport logo200Image from 'assets/img/logo/logo_200.png';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { Button, Card, CardBody, CardHeader, Col, Form, FormFeedback, FormGroup, FormText, Input, Label, Row } from 'reactstrap';\nimport { register } from './UserFunctions';\nimport { login } from './UserFunctions';\n\nvar Profile = /*#__PURE__*/function (_React$Component) {\n  _inherits(Profile, _React$Component);\n\n  function Profile() {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this));\n\n    _this.changeAuthState = function (authState) {\n      return function (event) {\n        event.preventDefault();\n\n        _this.props.onChangeAuthState(authState);\n      };\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var newUser = {\n        first_name: _this.state.first_name,\n        last_name: _this.state.last_name,\n        email: _this.state.email,\n        password: _this.state.password,\n        class: _this.state.class\n      };\n      var user = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n      {\n        _this.isSignup ? register(newUser).then(function (res) {\n          //this.changeAuthState(STATE_LOGIN)\n          _this.props.history.push(\"/login\");\n        }) : login(user).then(function (res) {\n          if (res) {\n            _this.props.history.push(\"/home\");\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n      class: '',\n      errors: {}\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"renderButtonText\",\n    value: function renderButtonText() {\n      var buttonText = this.props.buttonText;\n\n      if (!buttonText && this.isLogin) {\n        return 'Connexion';\n      }\n\n      if (!buttonText && this.isSignup) {\n        return 'Inscription';\n      }\n\n      return buttonText;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          showLogo = _this$props.showLogo,\n          firstnameLabel = _this$props.firstnameLabel,\n          firstnameInputProps = _this$props.firstnameInputProps,\n          lastnameLabel = _this$props.lastnameLabel,\n          lastnameInputProps = _this$props.lastnameInputProps,\n          usernameLabel = _this$props.usernameLabel,\n          usernameInputProps = _this$props.usernameInputProps,\n          passwordLabel = _this$props.passwordLabel,\n          passwordInputProps = _this$props.passwordInputProps,\n          confirmPasswordLabel = _this$props.confirmPasswordLabel,\n          confirmPasswordInputProps = _this$props.confirmPasswordInputProps,\n          classLabel = _this$props.classLabel,\n          classInputProps = _this$props.classInputProps,\n          children = _this$props.children,\n          onLogoClick = _this$props.onLogoClick;\n      return /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 8,\n        lg: 12,\n        md: 100,\n        marginWidth: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, \"Profil\"), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleEmail\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 23\n        }\n      }, \"Nom\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"last_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleEmail\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 23\n        }\n      }, \"Pr\\xE9nom\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"first_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleEmail\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 23\n        }\n      }, \"Adresse mail\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"email\",\n        name: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"examplePassword\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 23\n        }\n      }, \"Mot de passe\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password placeholder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"exampleFile\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 23\n        }\n      }, \"Changer Image\"), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"file\",\n        name: \"file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(FormText, {\n        color: \"muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }\n      }, \"Vous pouvez importer un fichier de format .jpg ou .png comme \\xE9tant une photo de profil\"))), /*#__PURE__*/React.createElement(FormGroup, {\n        check: true,\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: {\n          size: 10,\n          offset: 2\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }, \"Enregister Modifications\"))))))));\n    }\n  }, {\n    key: \"isLogin\",\n    get: function get() {\n      return this.props.authState === STATE_LOGIN;\n    }\n  }, {\n    key: \"isSignup\",\n    get: function get() {\n      return this.props.authState === STATE_SIGNUP;\n    }\n  }]);\n\n  return Profile;\n}(React.Component);\n\nexport var STATE_LOGIN = 'LOGIN';\nexport var STATE_SIGNUP = 'SIGNUP';\nProfile.propTypes = {\n  authState: PropTypes.oneOf([STATE_LOGIN, STATE_SIGNUP]).isRequired,\n  showLogo: PropTypes.bool,\n  usernameLabel: PropTypes.string,\n  usernameInputProps: PropTypes.object,\n  firstnameLabel: PropTypes.string,\n  firstnameInputProps: PropTypes.object,\n  lastnameLabel: PropTypes.string,\n  lastnameInputProps: PropTypes.object,\n  passwordLabel: PropTypes.string,\n  passwordInputProps: PropTypes.object,\n  confirmPasswordLabel: PropTypes.string,\n  confirmPasswordInputProps: PropTypes.object,\n  classLabel: PropTypes.string,\n  classInputProps: PropTypes.object,\n  onLogoClick: PropTypes.func\n};\nProfile.defaultProps = {\n  authState: 'LOGIN',\n  showLogo: true,\n  firstnameLabel: 'Prénom',\n  firstnameInputProps: {\n    type: 'text',\n    placeholder: 'Votre Prénom'\n  },\n  lastnameLabel: 'Nom',\n  lastnameInputProps: {\n    type: 'text',\n    placeholder: 'Votre Nom'\n  },\n  usernameLabel: 'Email',\n  usernameInputProps: {\n    type: 'email',\n    placeholder: 'your@email.com'\n  },\n  passwordLabel: 'Mot de passe',\n  passwordInputProps: {\n    type: 'password',\n    placeholder: 'Votre mot de passe'\n  },\n  confirmPasswordLabel: 'Confirmer Mot de passe',\n  confirmPasswordInputProps: {\n    type: 'password',\n    placeholder: 'Confirmer Votre mot de passe'\n  },\n  classLabel: 'Classe',\n  classInputProps: {\n    type: 'text',\n    placeholder: 'Votre Classe (exp 1A1)'\n  },\n  onLogoClick: function onLogoClick() {}\n};\nexport default withRouter(Profile);","map":{"version":3,"sources":["C:/Users/yosrj/Desktop/IOT_Lab/react-reduction/src/components/Profile.js"],"names":["logo200Image","PropTypes","React","withRouter","Button","Card","CardBody","CardHeader","Col","Form","FormFeedback","FormGroup","FormText","Input","Label","Row","register","login","Profile","changeAuthState","authState","event","preventDefault","props","onChangeAuthState","handleSubmit","newUser","first_name","state","last_name","email","password","class","user","isSignup","then","res","history","push","errors","onChange","bind","e","setState","target","name","value","buttonText","isLogin","showLogo","firstnameLabel","firstnameInputProps","lastnameLabel","lastnameInputProps","usernameLabel","usernameInputProps","passwordLabel","passwordInputProps","confirmPasswordLabel","confirmPasswordInputProps","classLabel","classInputProps","children","onLogoClick","size","offset","STATE_LOGIN","STATE_SIGNUP","Component","propTypes","oneOf","isRequired","bool","string","object","func","defaultProps","type","placeholder"],"mappings":";;;;;;;;AAAA,OAAOA,YAAP,MAAyB,8BAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SACEC,MADF,EAEEC,IAFF,EAGEC,QAHF,EAIEC,UAJF,EAKEC,GALF,EAMEC,IANF,EAOEC,YAPF,EAQEC,SARF,EASEC,QATF,EAUEC,KAVF,EAWEC,KAXF,EAYEC,GAZF,QAaO,YAbP;AAcA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,KAAT,QAAsB,iBAAtB;;IAEMC,O;;;AACJ,qBAAc;AAAA;;AAAA;;AACZ;;AADY,UAyBdC,eAzBc,GAyBI,UAAAC,SAAS;AAAA,aAAI,UAAAC,KAAK,EAAI;AACtCA,QAAAA,KAAK,CAACC,cAAN;;AAEA,cAAKC,KAAL,CAAWC,iBAAX,CAA6BJ,SAA7B;AACD,OAJ0B;AAAA,KAzBb;;AAAA,UA+BdK,YA/Bc,GA+BC,UAAAJ,KAAK,EAAI;AACtBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAMI,OAAO,GAAG;AACdC,QAAAA,UAAU,EAAE,MAAKC,KAAL,CAAWD,UADT;AAEdE,QAAAA,SAAS,EAAE,MAAKD,KAAL,CAAWC,SAFR;AAGdC,QAAAA,KAAK,EAAE,MAAKF,KAAL,CAAWE,KAHJ;AAIdC,QAAAA,QAAQ,EAAE,MAAKH,KAAL,CAAWG,QAJP;AAKdC,QAAAA,KAAK,EAAE,MAAKJ,KAAL,CAAWI;AALJ,OAAhB;AAOA,UAAMC,IAAI,GAAG;AACXH,QAAAA,KAAK,EAAE,MAAKF,KAAL,CAAWE,KADP;AAEXC,QAAAA,QAAQ,EAAE,MAAKH,KAAL,CAAWG;AAFV,OAAb;AAIA;AACE,cAAKG,QAAL,GAAgBlB,QAAQ,CAACU,OAAD,CAAR,CAAkBS,IAAlB,CAAuB,UAAAC,GAAG,EAAI;AAC5C;AACA,gBAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB;AACD,SAHe,CAAhB,GAGKrB,KAAK,CAACgB,IAAD,CAAL,CAAYE,IAAZ,CAAiB,UAAAC,GAAG,EAAI;AAC3B,cAAIA,GAAJ,EAAS;AACR,kBAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB;AACA;AACF,SAJI,CAHL;AAQD;AAEF,KAvDa;;AAEZ,UAAKV,KAAL,GAAa;AACXD,MAAAA,UAAU,EAAE,EADD;AAEXE,MAAAA,SAAS,EAAE,EAFA;AAGXC,MAAAA,KAAK,EAAE,EAHI;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,KAAK,EAAE,EALI;AAMXO,MAAAA,MAAM,EAAE;AANG,KAAb;AASA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,uDAAhB;AACA,UAAKhB,YAAL,GAAoB,MAAKA,YAAL,CAAkBgB,IAAlB,uDAApB;AAZY;AAab;;;;6BASQC,C,EAAG;AACV,WAAKC,QAAL,qBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,EAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C;AACD;;;uCAiCkB;AAAA,UACTC,UADS,GACM,KAAKxB,KADX,CACTwB,UADS;;AAGjB,UAAI,CAACA,UAAD,IAAe,KAAKC,OAAxB,EAAiC;AAC/B,eAAO,WAAP;AACD;;AAED,UAAI,CAACD,UAAD,IAAe,KAAKb,QAAxB,EAAkC;AAChC,eAAO,aAAP;AACD;;AAED,aAAOa,UAAP;AACD;;;6BAEQ;AAAA,wBAiBH,KAAKxB,KAjBF;AAAA,UAEL0B,QAFK,eAELA,QAFK;AAAA,UAGLC,cAHK,eAGLA,cAHK;AAAA,UAILC,mBAJK,eAILA,mBAJK;AAAA,UAKLC,aALK,eAKLA,aALK;AAAA,UAMLC,kBANK,eAMLA,kBANK;AAAA,UAOLC,aAPK,eAOLA,aAPK;AAAA,UAQLC,kBARK,eAQLA,kBARK;AAAA,UASLC,aATK,eASLA,aATK;AAAA,UAULC,kBAVK,eAULA,kBAVK;AAAA,UAWLC,oBAXK,eAWLA,oBAXK;AAAA,UAYLC,yBAZK,eAYLA,yBAZK;AAAA,UAaLC,UAbK,eAaLA,UAbK;AAAA,UAcLC,eAdK,eAcLA,eAdK;AAAA,UAeLC,QAfK,eAeLA,QAfK;AAAA,UAgBLC,WAhBK,eAgBLA,WAhBK;AAmBP,0BAEM,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,EAAE,EAAE,EAAhB;AAAoB,QAAA,EAAE,EAAE,GAAxB;AAA6B,QAAA,WAAW,EAAE,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,cAAX;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAII,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,WAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJJ,CADA,eAYE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,cAAX;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,YAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAZF,eAuBE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,cAAX;AAA0B,QAAA,EAAE,EAAE,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAvBF,eAkCE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,iBAAX;AAA6B,QAAA,EAAE,EAAE,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,WAAW,EAAC,sBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAlCF,eA+CE,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAC,aAAX;AAAyB,QAAA,EAAE,EAAE,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qGAFF,CAJF,CA/CF,eA6DE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAiB,QAAA,GAAG,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAAEC,UAAAA,IAAI,EAAE,EAAR;AAAYC,UAAAA,MAAM,EAAE;AAApB,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,CADF,CA7DF,CADF,CAFF,CADF,CADF,CAFN;AAgFD;;;wBA3Ja;AACZ,aAAO,KAAK1C,KAAL,CAAWH,SAAX,KAAyB8C,WAAhC;AACD;;;wBAEc;AACb,aAAO,KAAK3C,KAAL,CAAWH,SAAX,KAAyB+C,YAAhC;AACD;;;;EAtBmBjE,KAAK,CAACkE,S;;AA8K5B,OAAO,IAAMF,WAAW,GAAG,OAApB;AACP,OAAO,IAAMC,YAAY,GAAG,QAArB;AAEPjD,OAAO,CAACmD,SAAR,GAAoB;AAClBjD,EAAAA,SAAS,EAAEnB,SAAS,CAACqE,KAAV,CAAgB,CAACJ,WAAD,EAAcC,YAAd,CAAhB,EAA6CI,UADtC;AAElBtB,EAAAA,QAAQ,EAAEhD,SAAS,CAACuE,IAFF;AAGlBlB,EAAAA,aAAa,EAAErD,SAAS,CAACwE,MAHP;AAIlBlB,EAAAA,kBAAkB,EAAEtD,SAAS,CAACyE,MAJZ;AAKlBxB,EAAAA,cAAc,EAAEjD,SAAS,CAACwE,MALR;AAMlBtB,EAAAA,mBAAmB,EAAElD,SAAS,CAACyE,MANb;AAOlBtB,EAAAA,aAAa,EAAEnD,SAAS,CAACwE,MAPP;AAQlBpB,EAAAA,kBAAkB,EAAEpD,SAAS,CAACyE,MARZ;AASlBlB,EAAAA,aAAa,EAAEvD,SAAS,CAACwE,MATP;AAUlBhB,EAAAA,kBAAkB,EAAExD,SAAS,CAACyE,MAVZ;AAWlBhB,EAAAA,oBAAoB,EAAEzD,SAAS,CAACwE,MAXd;AAYlBd,EAAAA,yBAAyB,EAAE1D,SAAS,CAACyE,MAZnB;AAalBd,EAAAA,UAAU,EAAE3D,SAAS,CAACwE,MAbJ;AAclBZ,EAAAA,eAAe,EAAE5D,SAAS,CAACyE,MAdT;AAelBX,EAAAA,WAAW,EAAE9D,SAAS,CAAC0E;AAfL,CAApB;AAkBAzD,OAAO,CAAC0D,YAAR,GAAuB;AACrBxD,EAAAA,SAAS,EAAE,OADU;AAErB6B,EAAAA,QAAQ,EAAE,IAFW;AAGrBC,EAAAA,cAAc,EAAE,QAHK;AAIrBC,EAAAA,mBAAmB,EAAE;AACnB0B,IAAAA,IAAI,EAAE,MADa;AAEnBC,IAAAA,WAAW,EAAE;AAFM,GAJA;AASrB1B,EAAAA,aAAa,EAAE,KATM;AAUrBC,EAAAA,kBAAkB,EAAE;AAClBwB,IAAAA,IAAI,EAAE,MADY;AAElBC,IAAAA,WAAW,EAAE;AAFK,GAVC;AAcrBxB,EAAAA,aAAa,EAAE,OAdM;AAerBC,EAAAA,kBAAkB,EAAE;AAClBsB,IAAAA,IAAI,EAAE,OADY;AAElBC,IAAAA,WAAW,EAAE;AAFK,GAfC;AAmBrBtB,EAAAA,aAAa,EAAE,cAnBM;AAoBrBC,EAAAA,kBAAkB,EAAE;AAClBoB,IAAAA,IAAI,EAAE,UADY;AAElBC,IAAAA,WAAW,EAAE;AAFK,GApBC;AAwBrBpB,EAAAA,oBAAoB,EAAE,wBAxBD;AAyBrBC,EAAAA,yBAAyB,EAAE;AACzBkB,IAAAA,IAAI,EAAE,UADmB;AAEzBC,IAAAA,WAAW,EAAE;AAFY,GAzBN;AA6BrBlB,EAAAA,UAAU,EAAE,QA7BS;AA8BrBC,EAAAA,eAAe,EAAE;AACfgB,IAAAA,IAAI,EAAE,MADS;AAEfC,IAAAA,WAAW,EAAE;AAFE,GA9BI;AAkCrBf,EAAAA,WAAW,EAAE,uBAAM,CAAG;AAlCD,CAAvB;AAqCA,eAAe5D,UAAU,CAACe,OAAD,CAAzB","sourcesContent":["import logo200Image from 'assets/img/logo/logo_200.png';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Form,\r\n  FormFeedback,\r\n  FormGroup,\r\n  FormText,\r\n  Input,\r\n  Label,\r\n  Row,\r\n} from 'reactstrap';\r\nimport { register } from './UserFunctions';\r\nimport { login } from './UserFunctions';\r\n\r\nclass Profile extends React.Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      first_name: '',\r\n      last_name: '',\r\n      email: '',\r\n      password: '',\r\n      class: '',\r\n      errors: {}\r\n    }\r\n\r\n    this.onChange = this.onChange.bind(this)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n\r\n  get isLogin() {\r\n    return this.props.authState === STATE_LOGIN;\r\n  }\r\n\r\n  get isSignup() {\r\n    return this.props.authState === STATE_SIGNUP;\r\n  }\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n  changeAuthState = authState => event => {\r\n    event.preventDefault();\r\n\r\n    this.props.onChangeAuthState(authState);\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const newUser = {\r\n      first_name: this.state.first_name,\r\n      last_name: this.state.last_name,\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      class: this.state.class\r\n    }\r\n    const user = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }\r\n    {\r\n      this.isSignup ? register(newUser).then(res => {\r\n        //this.changeAuthState(STATE_LOGIN)\r\n        this.props.history.push(`/login`)\r\n      }) : login(user).then(res => {\r\n        if (res) {\r\n         this.props.history.push(`/home`)\r\n        }\r\n      })\r\n    }\r\n\r\n  };\r\n\r\n  renderButtonText() {\r\n    const { buttonText } = this.props;\r\n\r\n    if (!buttonText && this.isLogin) {\r\n      return 'Connexion';\r\n    }\r\n\r\n    if (!buttonText && this.isSignup) {\r\n      return 'Inscription';\r\n    }\r\n\r\n    return buttonText;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      showLogo,\r\n      firstnameLabel,\r\n      firstnameInputProps,\r\n      lastnameLabel,\r\n      lastnameInputProps,\r\n      usernameLabel,\r\n      usernameInputProps,\r\n      passwordLabel,\r\n      passwordInputProps,\r\n      confirmPasswordLabel,\r\n      confirmPasswordInputProps,\r\n      classLabel,\r\n      classInputProps,\r\n      children,\r\n      onLogoClick,\r\n    } = this.props;\r\n\r\n    return (\r\n        \r\n          <Row>\r\n            <Col xl={8} lg={12} md={100} marginWidth={5}>\r\n              <Card>\r\n                <CardHeader>Profil</CardHeader>\r\n                <CardBody>\r\n                  <Form>\r\n                  <FormGroup row>\r\n                      <Label for=\"exampleEmail\" sm={2}>\r\n                        Nom\r\n                      </Label>\r\n                      <Col sm={10}>\r\n                        <Input\r\n                          type=\"text\"\r\n                          name=\"last_name\"\r\n                        />\r\n                      </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                      <Label for=\"exampleEmail\" sm={2}>\r\n                       Prénom\r\n                      </Label>\r\n                      <Col sm={10}>\r\n                        <Input\r\n                          type=\"text\"\r\n                          name=\"first_name\"\r\n                        />\r\n                      </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                      <Label for=\"exampleEmail\" sm={2}>\r\n                        Adresse mail\r\n                      </Label>\r\n                      <Col sm={10}>\r\n                        <Input\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                        />\r\n                      </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                      <Label for=\"examplePassword\" sm={2}>\r\n                        Mot de passe\r\n                      </Label>\r\n                      <Col sm={10}>\r\n                        <Input\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          placeholder=\"password placeholder\"\r\n                        />\r\n                      </Col>\r\n                    </FormGroup>\r\n                   \r\n                    <FormGroup row>\r\n                      <Label for=\"exampleFile\" sm={2}>\r\n                       Changer Image\r\n                      </Label>\r\n                      <Col sm={10}>\r\n                        <Input type=\"file\" name=\"file\" />\r\n                        <FormText color=\"muted\">\r\n                         Vous pouvez importer un fichier de format .jpg ou .png comme étant \r\n                         une photo de profil\r\n                        </FormText>\r\n                      </Col>\r\n                    </FormGroup>\r\n                \r\n                \r\n                    <FormGroup check row>\r\n                      <Col sm={{ size: 10, offset: 2 }}>\r\n                        <Button>Enregister Modifications</Button>\r\n                      </Col>\r\n                    </FormGroup>\r\n                  </Form>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n  \r\n      );\r\n  }\r\n}\r\n\r\nexport const STATE_LOGIN = 'LOGIN';\r\nexport const STATE_SIGNUP = 'SIGNUP';\r\n\r\nProfile.propTypes = {\r\n  authState: PropTypes.oneOf([STATE_LOGIN, STATE_SIGNUP]).isRequired,\r\n  showLogo: PropTypes.bool,\r\n  usernameLabel: PropTypes.string,\r\n  usernameInputProps: PropTypes.object,\r\n  firstnameLabel: PropTypes.string,\r\n  firstnameInputProps: PropTypes.object,\r\n  lastnameLabel: PropTypes.string,\r\n  lastnameInputProps: PropTypes.object,\r\n  passwordLabel: PropTypes.string,\r\n  passwordInputProps: PropTypes.object,\r\n  confirmPasswordLabel: PropTypes.string,\r\n  confirmPasswordInputProps: PropTypes.object,\r\n  classLabel: PropTypes.string,\r\n  classInputProps: PropTypes.object,\r\n  onLogoClick: PropTypes.func,\r\n};\r\n\r\nProfile.defaultProps = {\r\n  authState: 'LOGIN',\r\n  showLogo: true,\r\n  firstnameLabel: 'Prénom',\r\n  firstnameInputProps: {\r\n    type: 'text',\r\n    placeholder: 'Votre Prénom',\r\n\r\n  },\r\n  lastnameLabel: 'Nom',\r\n  lastnameInputProps: {\r\n    type: 'text',\r\n    placeholder: 'Votre Nom',\r\n  },\r\n  usernameLabel: 'Email',\r\n  usernameInputProps: {\r\n    type: 'email',\r\n    placeholder: 'your@email.com',\r\n  },\r\n  passwordLabel: 'Mot de passe',\r\n  passwordInputProps: {\r\n    type: 'password',\r\n    placeholder: 'Votre mot de passe',\r\n  },\r\n  confirmPasswordLabel: 'Confirmer Mot de passe',\r\n  confirmPasswordInputProps: {\r\n    type: 'password',\r\n    placeholder: 'Confirmer Votre mot de passe',\r\n  },\r\n  classLabel: 'Classe',\r\n  classInputProps: {\r\n    type: 'text',\r\n    placeholder: 'Votre Classe (exp 1A1)',\r\n  },\r\n  onLogoClick: () => { },\r\n};\r\n\r\nexport default withRouter(Profile);\r\n"]},"metadata":{},"sourceType":"module"}